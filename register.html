<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>加入物流人力平台</title>

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:#f3f4f6;
}

.container{
  max-width:600px;
  margin:60px auto;
  padding:20px;
}

.card{
  background:white;
  padding:28px;
  border-radius:14px;
  box-shadow:0 10px 25px rgba(0,0,0,0.08);
}

h1{
  margin-top:0;
  font-size:26px;
}

p{
  color:#6b7280;
}

label{
  display:block;
  margin-top:14px;
  font-weight:600;
}

input,select{
  width:100%;
  padding:12px;
  margin-top:6px;
  border-radius:8px;
  border:1px solid #d1d5db;
  font-size:16px;
}

button{
  width:100%;
  margin-top:22px;
  padding:14px;
  border:none;
  background:#2563eb;
  color:white;
  font-size:16px;
  border-radius:10px;
  cursor:pointer;
}

button:hover{
  background:#1d4ed8;
}

.footer{
  margin-top:16px;
  font-size:13px;
  color:#6b7280;
  text-align:center;
}
</style>
</head>

<body>

<div class="container">
  <div class="card">

    <h1>加入物流工作人員</h1>
    <p>填寫基本資料即可加入派遣人力資料庫，審核後將安排工作機會。</p>

    <label>姓名</label>
    <input id="name" placeholder="請輸入姓名">

    <label>聯絡電話</label>
    <input id="phone" placeholder="例如 0900000000">

    <label>LINE ID</label>
    <input id="line">

    <label>是否有物流經驗</label>
    <select id="experience">
      <option value="無">無經驗</option>
      <option value="有">有經驗</option>
    </select>

    <label>可工作地區</label>
    <input id="area" placeholder="例如 桃園 / 新北">

    <label>可工作時段</label>
    <input id="time" placeholder="例如 白天 / 晚班 / 假日">

    <button onclick="submitRegister()">提交申請</button>

    <div class="footer">
      本平台僅用於物流派遣媒合作業，資料依個資法規定使用。
    </div>

  </div>
</div>

<script type="module">
import { db } from "./firebase.js";
import {
  collection,
  addDoc
} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

window.submitRegister = async function () {

  const name = document.getElementById("name").value;
  const phone = document.getElementById("phone").value;
  const line = document.getElementById("line").value;
  const experience = document.getElementById("experience").value;
  const area = document.getElementById("area").value;
  const time = document.getElementById("time").value;

  if (!name || !phone) {
    alert("請填寫姓名與電話");
    return;
  }

  try {
    await addDoc(collection(db, "workers"), {
      name,
      phone,
      line,
      experience,
      area,
      time,
      score: 0,
      source: "register"
    });

    alert("申請已送出");
    location.href = "index.html";

  } catch (e) {
    console.error(e);
    alert("送出失敗");
  }
};
</script>

</body>
</html>
